<div class="file-toggler bg-dark text-white" align="left">
<h3>File List</h3>
<ul id="file-list-group" class="list-group file-group">
<!-- 	<li *ngFor="let dir of directories" class="list-group-item list-group-item-action border-0 bg-dark text-white" data-toggle="collapse" data-target="#files">
		<span id="directory-arrow" class="octicon octicon-arrow-right"> </span>
		<span class="octicon octicon-file-directory"> </span>
		<span> {{ dir }} </span>
	</li>

	<div id="files" class="collapse">
		<ng-container *ngIf="isNightMode">
		<li class="list-group-item list-group-item-action border-0 bg-dark text-white file-item" *ngFor="let file of files | async" (click)="fileClicked(file)">
			<span class="octicon octicon-file-code"></span>
			<span> {{ file.data["filename"] }}</span>
		</li>
		</ng-container>
		<ng-container *ngIf="!isNightMode">
		<li class="list-group-item list-group-item-action border-0" *ngFor="let file of files | async" (click)="fileClicked(file)">
			<span class="octicon octicon-file-code"></span>
			<span> {{ file.data["filename"] }}</span>
		</li>
		</ng-container>
	</div> -->

<!-- 	<li *ngFor="let dir of directories" class="list-group-item list-group-item-action border-0 bg-dark text-white">
		<span id="directory-arrow" class="octicon octicon-arrow-right"> </span>
		<span class="octicon octicon-file-directory"> </span>
		<span> {{ dir.key }} </span>
	</li> -->

<!-- 	<ng-container *ngFor="let file of newFiles" *ngIf="file.isFile"; then fileElement; else dirElement">
	</ng-container>
	<ng-template #dirElement>
		<li class="list-group-item list-group-item-action border-0 bg-dark text-white">
			<span id="directory-arrow" class="octicon octicon-arrow-right"> </span>
			<span class="octicon octicon-file-directory"> </span>
			<span> {{ file.path }} </span>
		</li>
	</ng-template>

	<ng-template #fileElement>
		<li class="list-group-item list-group-item-action border-0 bg-dark text-white file-item" *ngFor="let file of files | async" (click)="fileClicked(file)">
			<span class="octicon octicon-file-code"></span>
			<span> {{ file.data["filename"] }}</span>
		</li>
	</ng-template> -->

	<ng-container *ngFor="let file of newFiles">
		<ng-container *ngIf="file.isFile; then fileElement; else dirElement"></ng-container>
		<ng-template  #dirElement>
		<!-- <li class="list-group-item list-group-item-action border-0 bg-dark text-white" data-toggle="collapse" [attr.data-target]="'#' + file.path"> -->
		<li class="list-group-item list-group-item-action border-0 bg-dark text-white" (click)="toggleDir(file.path)">
			<span id="directory-arrow" class="octicon octicon-arrow-right"> </span>
			<span class="octicon octicon-file-directory"> </span>
			<span> {{ file.path }} </span>
		</li>

		<ng-container>
			<div id="{{ file.path }}" class="collapse">
			<li  *ngFor="let item of file.data" class="list-group-item list-group-item-action border-0 bg-dark text-white file-item" (click)="fileClicked(item)">
				<span class="octicon octicon-file-code"></span>
				<span> {{ item.data["filename"] }} </span>
			</li>
		</div>
		</ng-container>
		
		</ng-template>
		
		<ng-template #fileElement>
			<li class="list-group-item list-group-item-action border-0 bg-dark text-white file-item" (click)="fileClicked(file)">
				<span class="octicon octicon-file-code"></span>
				<span> {{ file.data["filename"] }}</span>
			</li>
		</ng-template>
	</ng-container>

<!-- 	<div id="files">
		<ng-container *ngIf="isNightMode">
		<li class="list-group-item list-group-item-action border-0 bg-dark text-white file-item" *ngFor="let file of files | async" (click)="fileClicked(file)">
			<span class="octicon octicon-file-code"></span>
			<span> {{ file.data["filename"] }}</span>
		</li>
		</ng-container>
	</div> -->

</ul>
</div>